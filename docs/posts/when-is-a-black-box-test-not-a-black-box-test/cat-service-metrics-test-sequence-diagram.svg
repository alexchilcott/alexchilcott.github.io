<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="435px" preserveAspectRatio="none" style="width:496px;height:435px;background:#FFFFFF;" version="1.1" viewBox="0 0 496 435" width="496px" zoomAndPan="magnify"><defs><filter height="300%" id="f1m9x5gp1ql9oz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1m9x5gp1ql9oz)" height="88.8" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="141.7625"/><rect fill="#FFFFFF" filter="url(#f1m9x5gp1ql9oz)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="260.1626"/><rect fill="#FFFFFF" filter="url(#f1m9x5gp1ql9oz)" height="29.6" style="stroke:#A80036;stroke-width:1.0;" width="10" x="413.5" y="171.3625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="125" x2="125" y1="40.2969" y2="392.2938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="307.5" x2="307.5" y1="40.2969" y2="392.2938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="418.5" x2="418.5" y1="40.2969" y2="392.2938"/><rect fill="#FEFECE" filter="url(#f1m9x5gp1ql9oz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="100" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="107" y="24.9951">Test</text><rect fill="#FEFECE" filter="url(#f1m9x5gp1ql9oz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="100" y="391.2938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="107" y="411.289">Test</text><rect fill="#FEFECE" filter="url(#f1m9x5gp1ql9oz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="275.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="282.5" y="24.9951">Server</text><rect fill="#FEFECE" filter="url(#f1m9x5gp1ql9oz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="275.5" y="391.2938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="282.5" y="411.289">Server</text><rect fill="#FEFECE" filter="url(#f1m9x5gp1ql9oz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="350.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="357.5" y="24.9951">MockCatFactApi</text><rect fill="#FEFECE" filter="url(#f1m9x5gp1ql9oz)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="350.5" y="391.2938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="357.5" y="411.289">MockCatFactApi</text><rect fill="#FFFFFF" filter="url(#f1m9x5gp1ql9oz)" height="88.8" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="141.7625"/><rect fill="#FFFFFF" filter="url(#f1m9x5gp1ql9oz)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="303" y="260.1626"/><rect fill="#FFFFFF" filter="url(#f1m9x5gp1ql9oz)" height="29.6" style="stroke:#A80036;stroke-width:1.0;" width="10" x="413.5" y="171.3625"/><path d="M10,55.2969 L10,110.2969 L235,110.2969 L235,65.2969 L225,55.2969 L10,55.2969 " fill="#FBFB77" filter="url(#f1m9x5gp1ql9oz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M225,55.2969 L225,65.2969 L235,65.2969 L225,55.2969 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="16" y="72.3638">Some set up logic to start the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="16" y="87.4966">server and configure the mocks</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="16" y="103.0966">to return</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="24" x="76" y="102.6005">500</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="100" y="103.0966">s.</text><polygon fill="#A80036" points="291,137.7625,301,141.7625,291,145.7625,295,141.7625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="125" x2="297" y1="141.7625" y2="141.7625"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="64" x="132" y="136.2005">GET /cat</text><polygon fill="#A80036" points="401.5,167.3625,411.5,171.3625,401.5,175.3625,405.5,171.3625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="313" x2="407.5" y1="171.3625" y2="171.3625"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="72" x="320" y="165.8005">GET /fact</text><polygon fill="#A80036" points="324,196.9626,314,200.9626,324,204.9626,320,200.9626" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318" x2="417.5" y1="200.9626" y2="200.9626"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="24" x="330" y="195.4006">500</text><polygon fill="#A80036" points="136,226.5626,126,230.5626,136,234.5626,132,230.5626" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="130" x2="307" y1="230.5626" y2="230.5626"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="24" x="142" y="225.0006">500</text><polygon fill="#A80036" points="291,256.1626,301,260.1626,291,264.1626,295,260.1626" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="125" x2="297" y1="260.1626" y2="260.1626"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="96" x="132" y="254.6006">GET /metrics</text><polygon fill="#A80036" points="136,300.4282,126,304.4282,136,308.4282,132,304.4282" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="130" x2="307" y1="304.4282" y2="304.4282"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="142" y="284.2295">Prometheus-compatible</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="142" y="299.3623">metrics response</text><path d="M5,317.4282 L5,372.4282 L242,372.4282 L242,327.4282 L232,317.4282 L5,317.4282 " fill="#FBFB77" filter="url(#f1m9x5gp1ql9oz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M232,317.4282 L232,327.4282 L242,327.4282 L232,317.4282 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="11" y="334.4951">Assert the metrics response from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="11" y="349.6279">the server shows the failed call</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="13" x="11" y="365.2279">to</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="32" x="28" y="364.7318">/cat</text><!--MD5=[4086559457b31e253d8112706a5a36de]
@startuml
note over Test
    Some set up logic to start the
    server and configure the mocks
    to return ""500""s.
end note

Test -> Server++: ""GET /cat""
    Server -> MockCatFactApi++: ""GET /fact""
    return ""500""
return ""500""

Test -> Server++: ""GET /metrics""
return Prometheus-compatible\nmetrics response

note over Test
    Assert the metrics response from
    the server shows the failed call
    to ""/cat""
end note
@enduml

PlantUML version 1.2021.14(Fri Nov 12 16:46:50 UTC 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>