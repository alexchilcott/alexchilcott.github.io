<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="435px" preserveAspectRatio="none" style="width:505px;height:435px;background:#FFFFFF;" version="1.1" viewBox="0 0 505 435" width="505px" zoomAndPan="magnify"><defs><filter height="300%" id="ffvh0aglexcsn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#ffvh0aglexcsn)" height="88.8" style="stroke:#A80036;stroke-width:1.0;" width="10" x="312" y="141.7625"/><rect fill="#FFFFFF" filter="url(#ffvh0aglexcsn)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="312" y="260.1626"/><rect fill="#FFFFFF" filter="url(#ffvh0aglexcsn)" height="29.6" style="stroke:#A80036;stroke-width:1.0;" width="10" x="422.5" y="171.3625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="132" x2="132" y1="40.2969" y2="392.2938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="316.5" x2="316.5" y1="40.2969" y2="392.2938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="427.5" x2="427.5" y1="40.2969" y2="392.2938"/><rect fill="#FEFECE" filter="url(#ffvh0aglexcsn)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="107" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="114" y="24.9951">Test</text><rect fill="#FEFECE" filter="url(#ffvh0aglexcsn)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="46" x="107" y="391.2938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="114" y="411.289">Test</text><rect fill="#FEFECE" filter="url(#ffvh0aglexcsn)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="284.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="291.5" y="24.9951">Server</text><rect fill="#FEFECE" filter="url(#ffvh0aglexcsn)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="61" x="284.5" y="391.2938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="291.5" y="411.289">Server</text><rect fill="#FEFECE" filter="url(#ffvh0aglexcsn)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="359.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="366.5" y="24.9951">MockCatFactApi</text><rect fill="#FEFECE" filter="url(#ffvh0aglexcsn)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="359.5" y="391.2938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="366.5" y="411.289">MockCatFactApi</text><rect fill="#FFFFFF" filter="url(#ffvh0aglexcsn)" height="88.8" style="stroke:#A80036;stroke-width:1.0;" width="10" x="312" y="141.7625"/><rect fill="#FFFFFF" filter="url(#ffvh0aglexcsn)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="312" y="260.1626"/><rect fill="#FFFFFF" filter="url(#ffvh0aglexcsn)" height="29.6" style="stroke:#A80036;stroke-width:1.0;" width="10" x="422.5" y="171.3625"/><path d="M5,55.2969 L5,110.2969 L256,110.2969 L256,65.2969 L246,55.2969 L5,55.2969 " fill="#FBFB77" filter="url(#ffvh0aglexcsn)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M246,55.2969 L246,65.2969 L256,65.2969 L246,55.2969 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="11" y="72.3638">Some set up logic to start the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="11" y="87.4966">Cat server and configure the mocks</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="11" y="103.0966">to return</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="24" x="71" y="102.6005">500</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="95" y="103.0966">s.</text><polygon fill="#A80036" points="300,137.7625,310,141.7625,300,145.7625,304,141.7625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="132" x2="306" y1="141.7625" y2="141.7625"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="64" x="139" y="136.2005">GET /cat</text><polygon fill="#A80036" points="410.5,167.3625,420.5,171.3625,410.5,175.3625,414.5,171.3625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="322" x2="416.5" y1="171.3625" y2="171.3625"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="72" x="329" y="165.8005">GET /fact</text><polygon fill="#A80036" points="333,196.9626,323,200.9626,333,204.9626,329,200.9626" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="327" x2="426.5" y1="200.9626" y2="200.9626"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="24" x="339" y="195.4006">500</text><polygon fill="#A80036" points="143,226.5626,133,230.5626,143,234.5626,139,230.5626" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="137" x2="316" y1="230.5626" y2="230.5626"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="24" x="149" y="225.0006">500</text><polygon fill="#A80036" points="300,256.1626,310,260.1626,300,264.1626,304,260.1626" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="132" x2="306" y1="260.1626" y2="260.1626"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="96" x="139" y="254.6006">GET /metrics</text><polygon fill="#A80036" points="143,300.4282,133,304.4282,143,308.4282,139,304.4282" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="137" x2="316" y1="304.4282" y2="304.4282"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="149" y="284.2295">Prometheus-Compatible</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="149" y="299.3623">Metrics Response</text><path d="M6,317.4282 L6,372.4282 L253,372.4282 L253,327.4282 L243,317.4282 L6,317.4282 " fill="#FBFB77" filter="url(#ffvh0aglexcsn)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M243,317.4282 L243,327.4282 L253,327.4282 L243,317.4282 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="12" y="334.4951">Assert the metrics response from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="12" y="349.6279">the Cat server shows the failed call</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="13" x="12" y="365.2279">to</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="32" x="29" y="364.7318">/cat</text><!--MD5=[c5a0f37bc1b53a763a794e9eef8fb178]
@startuml
note over Test
    Some set up logic to start the
    Cat server and configure the mocks
    to return ""500""s.
end note

Test -> Server++: ""GET /cat""
    Server -> MockCatFactApi++: ""GET /fact""
    return ""500""
return ""500""

Test -> Server++: ""GET /metrics""
return Prometheus-Compatible\nMetrics Response

note over Test
    Assert the metrics response from
    the Cat server shows the failed call
    to ""/cat""
end note
@enduml

PlantUML version 1.2021.14(Fri Nov 12 16:46:50 UTC 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>